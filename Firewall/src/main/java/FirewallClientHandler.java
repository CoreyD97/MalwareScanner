import com.coreyd97.antivirus.common.network.ClientConnection;
import com.coreyd97.antivirus.common.network.ServerThread;

import java.io.IOException;
import java.net.Inet4Address;
import java.net.Socket;

public class FirewallClientHandler extends ServerThread {

    final Firewall firewall;

    public FirewallClientHandler(Firewall firewall, short port) throws IOException {
        this(firewall, (Inet4Address) Inet4Address.getByName("0.0.0.0"), port);
    }

    public FirewallClientHandler(Firewall firewall, Inet4Address listenAddress, short port) throws IOException {
        super(listenAddress, port);
        this.firewall = firewall;
    }

    @Override
    public ClientConnection buildClient(Socket clientSocket) {
        return new FirewallClientConnection(this, clientSocket);
    }

    public Firewall getFirewall() {
        return firewall;
    }
}

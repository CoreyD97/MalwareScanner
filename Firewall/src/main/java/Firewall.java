import com.coreyd97.antivirus.common.Options;

import java.io.IOException;

public class Firewall {

    Options options;
    FirewallClientHandler serverThread;
    ClientManager clientManager;

    Firewall(){
        this.options = new Options();

        clientManager = new ClientManager();

        short serverPort = this.options.getValue("firewallServerPort", Short.class, (short) 4397);

        try {
            this.serverThread = new FirewallClientHandler(this, serverPort);
            this.serverThread.start();
        } catch (IOException e) {
            System.err.println("Could not start server on port " + serverPort + ". Exiting...");
            System.exit(1);
        }

    }

    public Options getOptions() {
        return options;
    }

    public ClientManager getClientManager() {
        return clientManager;
    }

    public static void main(String[] args) {
        Firewall firewall = new Firewall();
    }
}

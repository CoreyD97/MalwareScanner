package com.coreyd97.antivirus.client.engine;

import com.coreyd97.antivirus.client.network.ClientNetworkController;
import com.coreyd97.antivirus.client.taskscheduler.TaskScheduler;
import com.coreyd97.antivirus.common.engine.ClientScannerEngine;
import com.coreyd97.antivirus.common.taskscheduler.FileTask;

import java.io.File;

public class ScanManager {
    private final ClientNetworkController networkController;
    private final TaskScheduler scheduler;


    public ScanManager(ClientNetworkController networkController, TaskScheduler taskScheduler){
        this.networkController = networkController;
        this.scheduler = taskScheduler;
    }

    public void updateScanSchedule(){
        //TODO Create and Update Scan Schedule
    }

    public void beginScan(ClientScannerEngine scannerEngine, File[] files){
        Thread scanThread = new Thread(() -> {
            FileTask task = scannerEngine.scan(files);
            scheduler.registerTask(task);
        });
        scanThread.start();
    }
}

package com.coreyd97.antivirus.client.ui;

import com.coreyd97.antivirus.common.taskscheduler.ScanTask;
import com.coreyd97.antivirus.common.taskscheduler.Task;
import com.coreyd97.antivirus.common.taskscheduler.TaskSchedulerListener;
import com.coreyd97.antivirus.common.taskscheduler.TaskStatusListener;
import com.coreyd97.antivirus.common.ui.TaskDetailPanel;

import javax.swing.*;
import java.awt.*;
import java.util.HashMap;

public class ActiveScanPanel extends JSplitPane {

    private final TaskDetailPanel taskDetailPanel;
    private final ScanTreeTableModel scanTreeTableModel;
    private final FileSystemTree scanTree;

    public ActiveScanPanel(ScanTask task) {
        this.taskDetailPanel = new TaskDetailPanel(task);
        this.scanTreeTableModel = new ScanTreeTableModel(task);
        this.scanTree = new FileSystemTree(this.scanTreeTableModel);
        this.scanTree.setAutoCreateRowSorter(true);
        this.setOrientation(JSplitPane.VERTICAL_SPLIT);
        this.setBottomComponent(this.taskDetailPanel);
        this.setTopComponent(new JScrollPane(this.scanTree));
        this.setDividerLocation(0.8);
    }

    public void dispose() {
        this.taskDetailPanel.dispose();
        this.scanTreeTableModel.dispose();
        this.scanTree.dispose();
    }
}

package com.coreyd97.antivirus.server.network;

import com.coreyd97.antivirus.common.network.ClientConnection;
import com.coreyd97.antivirus.common.network.ServerThread;
import com.coreyd97.antivirus.server.AntiVirusServer;

import java.io.IOException;
import java.net.Inet4Address;
import java.net.Socket;

public class AVClientHandler extends ServerThread {

    private AntiVirusServer avServer;

    public AVClientHandler(AntiVirusServer avServer, short port) throws IOException {
        this(avServer, (Inet4Address) Inet4Address.getByName("0.0.0.0"), port);
    }

    public AVClientHandler(AntiVirusServer avServer, Inet4Address listenAddress, short port) throws IOException {
        super(listenAddress, port);
        this.avServer = avServer;
    }

    @Override
    public ClientConnection buildClient(Socket clientSocket) {
        return new AVClientConnection(this, clientSocket);
    }

    public AntiVirusServer getAVServer() {
        return avServer;
    }
}

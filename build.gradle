subprojects {
    apply plugin: 'java'
    apply plugin: 'application'

    repositories {
        mavenCentral()
        flatDir dirs: "${rootDir}/lib"
    }

    dependencies {
        compile project(':common')
        testCompile 'junit:junit:4.11'
    }


    task fatJar(type: Jar) {
        manifest {
            attributes 'Implementation-Title': 'Malware Scanner', 'Implementation-Version': '1.0', 'Main-Class': 'com.coreyd97.antivirus.AntiVirus'
        }
        baseName = project.name + '-all'
        from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
        with jar
    }
}